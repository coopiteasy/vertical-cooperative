<?xml version="1.0" encoding="utf-8"?>
<!--
     Copyright 2015-2016 Odoo S.A.
     Copyright 2018 RÃ©my Taymans <remytaymans@gmail.com>
     License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl).
-->
<openerp>
  <data noupdate="0">
    <!-- Tax Shelter Access Rules -->
    <record id="emc_portal_tax_shelter_certificate_rule" model="ir.rule">
      <field name="name">
        Easy My Coop Portal Tax Shelter Certificate
      </field>
      <field name="model_id"
        ref="easy_my_coop_taxshelter_report.model_tax_shelter_certificate"/>
      <field name="domain_force">
        [('partner_id', 'in', [user.commercial_partner_id.id])]
      </field>
      <field name="groups" eval="[(6, 0, [ref('base.group_portal')])]"/>
    </record>

    <record id="emc_portal_tax_shelter_certificate_line_rule" model="ir.rule">
      <field name="name">
        Easy My Coop Portal Tax Shelter Certificate line
      </field>
      <field name="model_id"
        ref="easy_my_coop_taxshelter_report.model_certificate_line"/>
      <field name="domain_force">
        [('tax_shelter_certificate.partner_id','in', [user.commercial_partner_id.id])]
      </field>
      <field name="groups" eval="[(6, 0, [ref('base.group_portal')])]"/>
    </record>

    <record id="emc_portal_personal_contact" model="ir.rule">
      <field name="name">Easy My Coop Portal Personal Contacts</field>
      <field name="model_id" ref="base.model_res_partner"/>
      <field name="domain_force">
        [('id', 'in', [user.commercial_partner_id.id])]
      </field>
      <field name="groups" eval="[(6, 0, [ref('base.group_portal')])]"/>
    </record>
  </data>
</openerp>
